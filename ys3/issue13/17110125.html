<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
 "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="Author" content="Nathan Cross">
	<meta name="Generator" content="Advanced Nathan Cross Simulator">
	<meta name="Description" content="Monthly Spectrum webzine 'in the style of' Your Sinclair">
	<meta name="Keywords" content="ys3, ys, your sinclair, sinclair, spectrum, zucchini, news, emulation, retrogaming, z80, zilog, assembly, programming"> 
<title>The Z80 Knights</title>
	<link rel=stylesheet type="text/css" href="ys3.css">
</head>


<body bgcolor="#7f7fff" >
<center><table  bgcolor="#fefefe" width="600" border="0" cellpadding="0" cellspacing="0"><tr><td align="center"><table width="100%"><tr><td align="left"><table></table><table></table><table></table><table></table><table width=600 bgcolor="#fefefe" cellpadding=0 cellspacing=0 border=0><tr><td align="left" valign="top"><img src="logo/z80knight.jpg"></td><td align="right" valign="top"><font face="arial, helvetica" size="1"><a href="1711019.html">1. Tilemaps</a><br><a href="17110123.html">2. Sprites</a><br><a href="17110124.html">3. Scrolling</a><br><a href="17110125.html">4. Control</a><br><a href="17110126.html">Notes</a></font></td></tr></table><font  color="#000000"><p id="edtxt"><h3>4. CONTROL</h3></p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">Ah, that's because I have forgotten something. If you want your sprites to be running around the screen, you're probably going to need a way to tell them to do it. So, here's a smidge of code to get inputs from the Sinclair joystick ports.</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">JOYSTICK2 .equ 61438</p></font><font  color="#000000"><p id="edtxt">JOYSTICK2 .equ 63486</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">input_j1</p></font><font  color="#000000"><p id="edtxt">	ld bc, JOYSTICK2</p></font><font  color="#000000"><p id="edtxt">	in a, (c)					; Get input from JOYSTICK1</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">input_j1_left:</p></font><font  color="#000000"><p id="edtxt">	bit 4,a</p></font><font  color="#000000"><p id="edtxt">	jp nz, input_j1_right</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">							; Insert the code for moving left here</p></font><font  color="#000000"><p id="edtxt">	jp input_j1_done	</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">input_j1_right:</p></font><font  color="#000000"><p id="edtxt">	bit 3,a</p></font><font  color="#000000"><p id="edtxt">	jp nz, input_j1_down</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">							; Insert the code for moving right here</p></font><font  color="#000000"><p id="edtxt">	jp input_j1_done	</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">input_j1_down:</p></font><font  color="#000000"><p id="edtxt">	bit 2,a</p></font><font  color="#000000"><p id="edtxt">	jp nz, input_j1_up</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">							; Insert the code for moving down here</p></font><font  color="#000000"><p id="edtxt">	jp input_j1_done	</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">input_j1_up:</p></font><font  color="#000000"><p id="edtxt">	bit 1,a</p></font><font  color="#000000"><p id="edtxt">	jp nz, input_j1_fire</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">							; Insert the code for moving up here</p></font><font  color="#000000"><p id="edtxt">	jp input_j1_done	</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">input_j1_fire:</p></font><font  color="#000000"><p id="edtxt">	bit 0,a</p></font><font  color="#000000"><p id="edtxt">	jp nz, input_j1_done</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">							; Insert the code for firing here</p></font><font  color="#000000"><p id="edtxt">input_j1_done:</p></font><font  color="#000000"><p id="edtxt">	ret</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">input_j2</p></font><font  color="#000000"><p id="edtxt">	ld bc, JOYSTICK2</p></font><font  color="#000000"><p id="edtxt">	in a, (c)					; Get input from JOYSTICK2</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">input_j2_left:</p></font><font  color="#000000"><p id="edtxt">	bit 0,a</p></font><font  color="#000000"><p id="edtxt">	jp nz, input_j2_right</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">							; Insert the code for moving left here</p></font><font  color="#000000"><p id="edtxt">	jp input_j2_done	</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">input_j2_right:</p></font><font  color="#000000"><p id="edtxt">	bit 1,a</p></font><font  color="#000000"><p id="edtxt">	jp nz, input_j2_down</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">							; Insert the code for moving right here</p></font><font  color="#000000"><p id="edtxt">	jp input_j2_done	</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">input_j2_down:</p></font><font  color="#000000"><p id="edtxt">	bit 2,a</p></font><font  color="#000000"><p id="edtxt">	jp nz, input_j2_up</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">							; Insert the code for moving down here</p></font><font  color="#000000"><p id="edtxt">	jp input_j2_done	</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">input_j2_up:</p></font><font  color="#000000"><p id="edtxt">	bit 3,a</p></font><font  color="#000000"><p id="edtxt">	jp nz, input_j2_fire</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">							; Insert the code for moving up here</p></font><font  color="#000000"><p id="edtxt">	jp input_j2_done	</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">input_j2_fire:</p></font><font  color="#000000"><p id="edtxt">	bit 4,a</p></font><font  color="#000000"><p id="edtxt">	jp nz, input_j2_done</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">							; Insert the code for firing here</p></font><font  color="#000000"><p id="edtxt">input_j2_done:</p></font><font  color="#000000"><p id="edtxt">	ret</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">Well, that really is it for this month. I hope this has helped some of you, especially since I've been promising to do it for so blimmin' long. Next issue I'll be going into memory management and multiloading. (But don't hold your breath for it, eh?) If you've any comments on what we've done this issue, or any questions or suggestions, you can send them to <a href="mailto:nathan_c@ys3.co.uk">nathan_c@ys3.co.uk</a>.</p></font><font  color="#000000"><p id="edtxt"></p></font><font  color="#000000"><p id="edtxt">May the source be with you!</p></font><font  color="#000000"><p id="edtxt"></p></font></td></tr></table><table width="100%"><tr><td align="left"><p id="normtxt"><a href="17110124.html">&lt;&lt;Back</a></p></td><td align="right"></td></tr></table><center><p id="normtxt"><b><a href="index1.html">Back to Contents</a></b></p></center></td></tr></table></center></body>
</html>